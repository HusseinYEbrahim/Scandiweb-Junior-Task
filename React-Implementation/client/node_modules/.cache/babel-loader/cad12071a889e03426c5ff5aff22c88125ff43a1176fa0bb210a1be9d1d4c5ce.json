{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\Scandiweb-Junior-Task\\\\React-Implementation\\\\client\\\\src\\\\pages\\\\Product.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport axios from 'axios';\nimport Card from '../components/ProductCard';\nimport { useState, useEffect } from 'react';\nimport styles from './products.module.css';\nimport { NavLink } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Product() {\n  _s();\n  const [data, setData] = useState();\n  const [deleteSet] = useState(new Set());\n  const [refresh, setRefresh] = useState(0);\n  function handleClick(sku) {\n    if (deleteSet.has(sku)) deleteSet.delete(sku);else deleteSet.add(sku);\n  }\n  async function fetchData() {\n    return await axios.get('http://localhost:80/tuts/getProducts.php');\n\n    //let x =  await fetch('http://localhost:80/tuts/getProducts.php', {method : \"GET\"});\n    //console.log(x);\n    //return x;\n    /*fetch('http://localhost:80/tuts/getProducts.php')\r\n     .then(response => {\r\n         if(response.ok)\r\n         {\r\n             console.log('SUCCESS')\r\n         }\r\n         else console.log(\"NOT SUCCESS\");\r\n         console.log(\"Cookies are \", document.cookie);\r\n       return response.json();\r\n     })\r\n     .then(data => setData(data));*/\n\n    /*fetch('getProducts.php')\r\n    .then(response => {\r\n        if(response.ok)\r\n        {\r\n            console.log('SUCCESS')\r\n        }\r\n        else console.log(\"NOT SUCCESS\");\r\n      return response.json();\r\n    })\r\n    .then(data => setData(data));*/\n\n    //last deployment trial\n    //return await axios.get('getProducts.php');\n  }\n\n  useEffect(() => {\n    fetchData().then(res => {\n      setData(res === null || res === void 0 ? void 0 : res.data);\n    });\n\n    //fetchData();\n  }, [refresh]);\n  if (data === undefined) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 16\n    }, this);\n  }\n  const toShowList = data === null || data === void 0 ? void 0 : data.map(product => {\n    //Put it in the Product Card\n    return /*#__PURE__*/_jsxDEV(Card, {\n      product: product,\n      handleClick: handleClick\n    }, product === null || product === void 0 ? void 0 : product.sku, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 16\n    }, this);\n  });\n  async function handleMassDelete() {\n    await axios.post('http://localhost:80/tuts/deleteProducts.php', {\n      data: [...deleteSet]\n    });\n\n    //deployment trials\n    //await axios.post('deleteProducts.php',  [...deleteSet]);\n    setRefresh(refresh + 1);\n    //await fetch('deleteProducts.php', { method: 'DELETE', data: [...deleteSet] });\n  }\n\n  const addButtonStyle = {\n    width: '7rem',\n    height: '3.5rem',\n    borderRadius: '0px',\n    border: '0.1px #1c1d1f solid',\n    backgroundColor: 'transparent',\n    fontWeight: '700',\n    lineHeight: '1.2',\n    letterSpacing: '-.02rem',\n    fontSize: '1.2rem'\n  };\n  const deleteButtonStyle = {\n    width: '10rem',\n    height: '3.5rem',\n    borderRadius: '0px',\n    border: '0.1px #1c1d1f solid',\n    backgroundColor: '#1c1d1f',\n    color: 'white',\n    fontWeight: '700',\n    lineHeight: '1.2',\n    letterSpacing: '-.02rem',\n    fontSize: '1.2rem',\n    cursor: 'pointer'\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        width: '70%',\n        marginLeft: '15%',\n        marginTop: '3rem',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          fontSize: '2.6rem',\n          fontWeight: '500'\n        },\n        children: \"Products List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-around',\n          width: '20%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/product/add\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            style: addButtonStyle,\n            children: \"ADD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"delete-product-btn\",\n          style: deleteButtonStyle,\n          onClick: () => handleMassDelete(),\n          children: \"MASS DELETE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      style: {\n        width: '80%',\n        margin: 'auto'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: toShowList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s(Product, \"+m5xguDP9vU5PewO7ZdiD1m+Uno=\");\n_c = Product;\nvar _c;\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"names":["React","axios","Card","useState","useEffect","styles","NavLink","jsxDEV","_jsxDEV","Fragment","_Fragment","Product","_s","data","setData","deleteSet","Set","refresh","setRefresh","handleClick","sku","has","delete","add","fetchData","get","then","res","undefined","children","fileName","_jsxFileName","lineNumber","columnNumber","toShowList","map","product","handleMassDelete","post","addButtonStyle","width","height","borderRadius","border","backgroundColor","fontWeight","lineHeight","letterSpacing","fontSize","deleteButtonStyle","color","cursor","style","display","justifyContent","marginLeft","marginTop","alignItems","to","id","onClick","margin","className","container","_c","$RefreshReg$"],"sources":["C:/Users/admin/Desktop/Scandiweb-Junior-Task/React-Implementation/client/src/pages/Product.jsx"],"sourcesContent":["import React from 'react'\r\n\r\nimport axios from 'axios';\r\n\r\nimport Card from '../components/ProductCard';\r\n\r\nimport {useState, useEffect} from 'react';\r\n\r\nimport styles from './products.module.css';\r\n\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\n\r\nexport default function Product() {\r\n\r\n\r\n\r\n    const [data, setData] = useState();\r\n\r\n    const [deleteSet] = useState(new Set());\r\n\r\n    const [refresh, setRefresh] = useState(0);\r\n\r\n    function handleClick(sku)\r\n    {\r\n        if(deleteSet.has(sku)) deleteSet.delete(sku);\r\n        else deleteSet.add(sku);\r\n    }\r\n\r\n    async function fetchData()\r\n    {\r\n\r\n        return await axios.get('http://localhost:80/tuts/getProducts.php');\r\n    \r\n        //let x =  await fetch('http://localhost:80/tuts/getProducts.php', {method : \"GET\"});\r\n        //console.log(x);\r\n        //return x;\r\n       /*fetch('http://localhost:80/tuts/getProducts.php')\r\n        .then(response => {\r\n            if(response.ok)\r\n            {\r\n                console.log('SUCCESS')\r\n            }\r\n            else console.log(\"NOT SUCCESS\");\r\n            console.log(\"Cookies are \", document.cookie);\r\n          return response.json();\r\n        })\r\n        .then(data => setData(data));*/\r\n\r\n\r\n\r\n        /*fetch('getProducts.php')\r\n        .then(response => {\r\n            if(response.ok)\r\n            {\r\n                console.log('SUCCESS')\r\n            }\r\n            else console.log(\"NOT SUCCESS\");\r\n          return response.json();\r\n        })\r\n        .then(data => setData(data));*/\r\n\r\n    \r\n        //last deployment trial\r\n        //return await axios.get('getProducts.php');\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        fetchData().then((res) => {\r\n            setData(res?.data);\r\n        })\r\n\r\n        //fetchData();\r\n\r\n\r\n      }, [refresh]);\r\n    \r\n      if(data === undefined)\r\n      {\r\n        return <div>Loading</div>\r\n      }\r\n\r\n    const toShowList = data?.map((product) => \r\n    {\r\n        //Put it in the Product Card\r\n        return <Card key = {product?.sku} product = {product} handleClick = {handleClick} />\r\n    });\r\n\r\n    async function handleMassDelete()\r\n    {\r\n        await axios.post('http://localhost:80/tuts/deleteProducts.php', {data: [...deleteSet]});\r\n\r\n\r\n        //deployment trials\r\n        //await axios.post('deleteProducts.php',  [...deleteSet]);\r\n        setRefresh(refresh+1);\r\n        //await fetch('deleteProducts.php', { method: 'DELETE', data: [...deleteSet] });\r\n    }\r\n\r\n    const addButtonStyle = {\r\n        width:'7rem',\r\n        height: '3.5rem',\r\n        borderRadius: '0px',\r\n        border: '0.1px #1c1d1f solid',\r\n        backgroundColor: 'transparent',\r\n        fontWeight: '700',\r\n        lineHeight: '1.2',\r\n        letterSpacing: '-.02rem',\r\n        fontSize: '1.2rem'\r\n    }\r\n\r\n    const deleteButtonStyle = \r\n    {\r\n        width:'10rem',\r\n        height: '3.5rem',\r\n        borderRadius: '0px',\r\n        border: '0.1px #1c1d1f solid',\r\n        backgroundColor: '#1c1d1f',\r\n        color:'white',\r\n        fontWeight: '700',\r\n        lineHeight: '1.2',\r\n        letterSpacing: '-.02rem',\r\n        fontSize: '1.2rem',\r\n        cursor:'pointer'\r\n    }\r\n\r\n  return (\r\n    <>\r\n    <div style={{display:'flex', justifyContent:'space-between', width:'70%', marginLeft:'15%', marginTop:'3rem', alignItems:'center'}}>\r\n        <h1 style={{fontSize:'2.6rem', fontWeight:'500'}}>\r\n            Products List\r\n        </h1>\r\n        <div style= {{display:'flex', justifyContent:'space-around', width:'20%'}}>\r\n            <NavLink to =\"/product/add\">\r\n            <button style={ addButtonStyle}>\r\n                ADD\r\n            </button>\r\n            </NavLink>\r\n            <button id = 'delete-product-btn' style={deleteButtonStyle} onClick = {() => handleMassDelete()}>\r\n                MASS DELETE\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <hr style={{width:'80%', margin : 'auto'}}/>\r\n\r\n    <div className = {styles.container}>\r\n        {toShowList}\r\n    </div>\r\n    </>\r\n  )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}